module.exports=[21188,(a,b,c)=>{"use strict";b.exports=a.r(10074).vendored.contexts.AppRouterContext},35837,(a,b,c)=>{"use strict";b.exports=a.r(10074).vendored["react-ssr"].ReactServerDOMTurbopackClient},69264,a=>{"use strict";function b(a,c,d,e,f=!1){let g=d.get(a);if(!g)return[];let h=c.filter(b=>{let c=b.accountCode===a||b.parentAccountCode===a&&!d.has(b.accountCode),g=void 0!==e[b.id];return c&&(f||!g)});for(let a of g.children)h=h.concat(b(a,c,d,e,f));return h}function c(a,c,d,e,f){let g=b(a,c,d,f),h={};e.forEach(a=>{h[a]=0});let i=0;for(let a of g)a.month&&void 0!==h[a.month]&&(h[a.month]+=a.amount,i+=a.amount);return{monthlyAmounts:h,ytdTotal:i,transactionCount:g.length}}function d(a,b,d,e,f){let g=[];for(let h of Array.from(d.values()).filter(b=>b.section===a&&null===b.parentCode).sort((a,b)=>a.code.localeCompare(b.code))){let{monthlyAmounts:a,ytdTotal:i,transactionCount:j}=c(h.code,b,d,e,f);(0!==i||j>0)&&g.push({accountCode:h.code,account:h,monthlyAmounts:a,ytdTotal:i,transactionCount:j})}return g}function e(a,b,c){let d=a.filter(a=>!c[a.id]),e=a.filter(a=>c[a.id]),f=a=>d.filter(c=>{let d=b.get(c.accountCode);if(!d)return!1;if(d.section===a)return!0;if(c.parentAccountCode){let d=b.get(c.parentAccountCode);if(d?.section===a)return!0}return!1}).reduce((a,b)=>a+b.amount,0),g=d.filter(a=>{let b=parseInt(a.accountCode,10);return b>=4e3&&b<4100}),h=g.filter(a=>"4000"===a.accountCode||"4030"===a.accountCode).reduce((a,b)=>a+b.amount,0),i=h+g.filter(a=>"4010"===a.accountCode||"4020"===a.accountCode||"4040"===a.accountCode).reduce((a,b)=>a+b.amount,0),j=f("cogs"),k=f("costOfSales"),l=f("operatingExpenses"),m=f("otherIncome"),n=i-j-k,o=n-l+m,p=e.reduce((a,b)=>a+b.amount,0);return{grossRevenue:h,netRevenue:i,totalCOGS:j,totalCostOfSales:k,grossProfit:n,grossMargin:0!==i?n/i*100:0,totalOpEx:l,otherIncome:m,netIncome:o,netMargin:0!==i?o/i*100:0,taggedItemsCount:e.length,taggedAmount:p}}function f(a){let b={};for(let c of a)b[c.month]||(b[c.month]=[]),b[c.month].push(c);for(let a of Object.keys(b))b[a].sort((a,b)=>{let c=new Date(a.transactionDate),d=new Date(b.transactionDate);return c.getTime()-d.getTime()});return b}function g(a,b,c,d,e){return b.filter(b=>{if(e[b.id]||b.month!==d)return!1;let f=c.get(b.accountCode);if(!f)return!1;if(f.section===a)return!0;if(b.parentAccountCode){let d=c.get(b.parentAccountCode);if(d?.section===a)return!0}return!1}).reduce((a,b)=>a+b.amount,0)}a.s(["buildPLRows",()=>d,"calculateMonthlyAmounts",()=>c,"calculatePLSummary",()=>e,"calculateSectionMonthlyTotal",()=>g,"getAccountTransactions",()=>b,"groupTransactionsByMonth",()=>f])}];

//# sourceMappingURL=spicy-pnl_a9107ab7._.js.map