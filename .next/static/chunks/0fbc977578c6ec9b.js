(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20136,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return i},searchParamsToUrlQuery:function(){return o},urlQueryToSearchParams:function(){return a}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});function o(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,l(e));else t.set(r,l(n));return t}function i(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},10687,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return a},formatWithValidation:function(){return c},urlObjectKeys:function(){return i}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let o=e.r(52498)._(e.r(20136)),l=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,n=e.protocol||"",s=e.pathname||"",a=e.hash||"",i=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),i&&"object"==typeof i&&(i=String(o.urlQueryToSearchParams(i)));let d=e.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||l.test(n))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),d&&"?"!==d[0]&&(d="?"+d),s=s.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${n}${c}${s}${d}${a}`}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return a(e)}},18236,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let n=e.r(49604);function s(e,t){let r=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=o(e,n)),t&&(s.current=o(t,n))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},20255,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return j},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return h},ST:function(){return p},WEB_VITALS:function(){return o},execOnce:function(){return l},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return i},isResSent:function(){return m},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return x},stringifyError:function(){return N}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>a.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function x(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&m(r))return n;if(!n)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let h="undefined"!=typeof performance,p=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},16244,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return o}});let n=e.r(20255),s=e.r(97966);function o(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},70763,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},21882,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return g},useLinkStatus:function(){return y}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let o=e.r(52498),l=e.r(69365),a=o._(e.r(49604)),i=e.r(10687),c=e.r(72442),d=e.r(18236),u=e.r(20255),m=e.r(95762);e.r(53351);let x=e.r(55255),f=e.r(16244),h=e.r(29834);function p(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}function g(t){var r;let n,s,o,[i,g]=(0,a.useOptimistic)(x.IDLE_LINK_STATUS),y=(0,a.useRef)(null),{href:j,as:v,children:N,prefetch:w=null,passHref:C,replace:k,shallow:P,scroll:T,onClick:$,onMouseEnter:S,onTouchStart:A,legacyBehavior:E=!1,onNavigate:O,ref:M,unstable_dynamicOnHover:L,..._}=t;n=N,E&&("string"==typeof n||"number"==typeof n)&&(n=(0,l.jsx)("a",{children:n}));let D=a.default.useContext(c.AppRouterContext),R=!1!==w,I=!1!==w?null===(r=w)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:B,as:F}=a.default.useMemo(()=>{let e=p(j);return{href:e,as:v?p(v):e}},[j,v]);if(E){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=a.default.Children.only(n)}let U=E?s&&"object"==typeof s&&s.ref:M,G=a.default.useCallback(e=>(null!==D&&(y.current=(0,x.mountLinkInstance)(e,B,D,I,R,g)),()=>{y.current&&((0,x.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,x.unmountPrefetchableInstance)(e)}),[R,B,D,I,g]),z={ref:(0,d.useMergedRef)(G,U),onClick(t){E||"function"!=typeof $||$(t),E&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!D||t.defaultPrevented||function(t,r,n,s,o,l,i){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){o&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(39083);a.default.startTransition(()=>{u(n||r,o?"replace":"push",l??!0,s.current)})}}(t,B,F,y,k,T,O)},onMouseEnter(e){E||"function"!=typeof S||S(e),E&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),D&&R&&(0,x.onNavigationIntent)(e.currentTarget,!0===L)},onTouchStart:function(e){E||"function"!=typeof A||A(e),E&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),D&&R&&(0,x.onNavigationIntent)(e.currentTarget,!0===L)}};return(0,u.isAbsoluteUrl)(F)?z.href=F:E&&!C&&("a"!==s.type||"href"in s.props)||(z.href=(0,m.addBasePath)(F)),o=E?a.default.cloneElement(s,z):(0,l.jsx)("a",{..._,...z,children:n}),(0,l.jsx)(b.Provider,{value:i,children:o})}e.r(70763);let b=(0,a.createContext)(x.IDLE_LINK_STATUS),y=()=>(0,a.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},50155,e=>{"use strict";function t(e,r,n,s,o=!1){let l=n.get(e);if(!l)return[];let a=r.filter(t=>{let r=t.accountCode===e||t.parentAccountCode===e&&!n.has(t.accountCode),l=void 0!==s[t.id];return r&&(o||!l)});for(let e of l.children)a=a.concat(t(e,r,n,s,o));return a}function r(e,r,n,s,o){let l=t(e,r,n,o),a={};s.forEach(e=>{a[e]=0});let i=0;for(let e of l)e.month&&void 0!==a[e.month]&&(a[e.month]+=e.amount,i+=e.amount);return{monthlyAmounts:a,ytdTotal:i,transactionCount:l.length}}function n(e,t,n,s,o){let l=[];for(let a of Array.from(n.values()).filter(t=>t.section===e&&null===t.parentCode).sort((e,t)=>e.code.localeCompare(t.code))){let{monthlyAmounts:e,ytdTotal:i,transactionCount:c}=r(a.code,t,n,s,o);(0!==i||c>0)&&l.push({accountCode:a.code,account:a,monthlyAmounts:e,ytdTotal:i,transactionCount:c})}return l}function s(e,t,r){let n=e.filter(e=>!r[e.id]),s=e.filter(e=>r[e.id]),o=e=>n.filter(r=>{let n=t.get(r.accountCode);if(!n)return!1;if(n.section===e)return!0;if(r.parentAccountCode){let n=t.get(r.parentAccountCode);if(n?.section===e)return!0}return!1}).reduce((e,t)=>e+t.amount,0),l=n.filter(e=>{let t=parseInt(e.accountCode,10);return t>=4e3&&t<4100}),a=l.filter(e=>"4000"===e.accountCode||"4030"===e.accountCode).reduce((e,t)=>e+t.amount,0),i=a+l.filter(e=>"4010"===e.accountCode||"4020"===e.accountCode||"4040"===e.accountCode).reduce((e,t)=>e+t.amount,0),c=o("cogs"),d=o("costOfSales"),u=o("operatingExpenses"),m=o("otherIncome"),x=i-c-d,f=x-u+m,h=s.reduce((e,t)=>e+t.amount,0);return{grossRevenue:a,netRevenue:i,totalCOGS:c,totalCostOfSales:d,grossProfit:x,grossMargin:0!==i?x/i*100:0,totalOpEx:u,otherIncome:m,netIncome:f,netMargin:0!==i?f/i*100:0,taggedItemsCount:s.length,taggedAmount:h}}function o(e){let t={};for(let r of e)t[r.month]||(t[r.month]=[]),t[r.month].push(r);for(let e of Object.keys(t))t[e].sort((e,t)=>{let r=new Date(e.transactionDate),n=new Date(t.transactionDate);return r.getTime()-n.getTime()});return t}function l(e,t,r,n,s){return t.filter(t=>{if(s[t.id]||t.month!==n)return!1;let o=r.get(t.accountCode);if(!o)return!1;if(o.section===e)return!0;if(t.parentAccountCode){let n=r.get(t.parentAccountCode);if(n?.section===e)return!0}return!1}).reduce((e,t)=>e+t.amount,0)}e.s(["buildPLRows",()=>n,"calculateMonthlyAmounts",()=>r,"calculatePLSummary",()=>s,"calculateSectionMonthlyTotal",()=>l,"getAccountTransactions",()=>t,"groupTransactionsByMonth",()=>o])},25735,e=>{"use strict";var t=e.i(69365),r=e.i(50400),n=e.i(49604),s=e.i(50155),o=e.i(91478);function l(){let{state:e}=(0,r.usePL)(),l=(0,n.useMemo)(()=>0===e.transactions.length?null:(0,s.calculatePLSummary)(e.transactions,e.accounts,e.tags),[e.transactions,e.accounts,e.tags]);if(!l)return null;let a=[{label:"Net Revenue",value:l.netRevenue,color:"bg-blue-50 border-blue-200",textColor:"text-blue-700",valueColor:"text-blue-900"},{label:"Net Income",value:l.netIncome,subLabel:`${l.netMargin.toFixed(1)}% margin`,color:l.netIncome>=0?"bg-green-50 border-green-200":"bg-red-50 border-red-200",textColor:l.netIncome>=0?"text-green-700":"text-red-700",valueColor:l.netIncome>=0?"text-green-900":"text-red-900"}];return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:a.map(e=>(0,t.jsxs)("div",{className:`${e.color} border rounded-xl p-5 shadow-sm transition-shadow hover:shadow-md`,children:[(0,t.jsx)("div",{className:`text-sm font-medium ${e.textColor} uppercase tracking-wide`,children:e.label}),(0,t.jsx)("div",{className:`text-3xl font-bold ${e.valueColor} mt-2 font-mono`,children:(0,o.formatCurrency)(e.value)}),e.subLabel&&(0,t.jsx)("div",{className:`text-sm ${e.textColor} mt-2 opacity-80`,children:e.subLabel})]},e.label))})}function a({expanded:e,className:r=""}){return(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform duration-200 ${e?"rotate-90":""} ${r}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function i({transaction:e,onClose:s}){let{state:l,dispatch:a}=(0,r.usePL)(),[i,c]=(0,n.useState)("personal"),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(!1),f=t=>{a({type:"TAG_TRANSACTION",payload:{transactionId:e.id,tag:{category:i,subAccount:t,taggedAt:Date.now()}}}),s()},h=()=>{d.trim()&&(a({type:"ADD_SUB_ACCOUNT",payload:{category:i,name:d.trim()}}),f(d.trim()))},p=l.tagConfig[i];return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:s,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-slate-200",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-900",children:"Tag Transaction"}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 mt-1 truncate",children:[e.name||e.memo," - ",(0,o.formatCurrency)(e.amount)]})]}),(0,t.jsxs)("div",{className:"flex border-b border-slate-200",children:[(0,t.jsx)("button",{className:`flex-1 px-4 py-2 text-sm font-medium border-b-2 transition-colors
              ${"personal"===i?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}
            `,onClick:()=>c("personal"),children:"Personal"}),(0,t.jsx)("button",{className:`flex-1 px-4 py-2 text-sm font-medium border-b-2 transition-colors
              ${"nonRecurring"===i?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}
            `,onClick:()=>c("nonRecurring"),children:"Non-Recurring"})]}),(0,t.jsx)("div",{className:"p-4 max-h-64 overflow-y-auto",children:(0,t.jsxs)("div",{className:"space-y-2",children:[p.map(e=>(0,t.jsx)("button",{onClick:()=>f(e),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100 text-slate-700 transition-colors",children:e},e)),m?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Enter name...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&h(),"Escape"===e.key&&x(!1)}}),(0,t.jsx)("button",{onClick:h,disabled:!d.trim(),className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]}):(0,t.jsxs)("button",{onClick:()=>x(!0),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 text-blue-600 transition-colors flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add new sub-account"]})]})}),(0,t.jsx)("div",{className:"px-4 py-3 border-t border-slate-200 flex justify-end",children:(0,t.jsx)("button",{onClick:s,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-800",children:"Cancel"})})]})})}function c({transaction:e}){let{state:s,dispatch:l}=(0,r.usePL)(),[a,c]=(0,n.useState)(!1),d=s.tags[e.id],u=!!d;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:`
          flex items-center gap-3 py-1.5 px-2 rounded text-sm
          ${u?"bg-amber-50 opacity-60":"bg-white hover:bg-slate-50"}
        `,children:[(0,t.jsx)("span",{className:"text-slate-400 font-mono text-xs w-12 flex-shrink-0",children:(e=>{let[t,r]=e.split("/");return`${t}/${r}`})(e.transactionDate)}),(0,t.jsx)("span",{className:`font-medium w-32 flex-shrink-0 truncate ${u?"line-through text-slate-400":"text-slate-700"}`,children:e.name||"-"}),(0,t.jsx)("span",{className:`flex-1 truncate ${u?"line-through text-slate-400":"text-slate-500"}`,children:e.memo||e.transactionType}),u&&(0,t.jsx)("span",{className:"bg-amber-200 text-amber-800 text-xs px-2 py-0.5 rounded-full flex-shrink-0",children:d.subAccount}),(0,t.jsx)("span",{className:`font-mono text-right w-24 flex-shrink-0
          ${u?"line-through text-slate-400":e.amount<0?"text-red-600":"text-slate-700"}
        `,children:(0,o.formatCurrency)(e.amount)}),u?(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),l({type:"UNTAG_TRANSACTION",payload:e.id})},className:"text-xs text-red-600 hover:text-red-800 px-2 py-1 rounded hover:bg-red-50 flex-shrink-0",children:"Untag"}):(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),c(!0)},className:"text-xs text-blue-600 hover:text-blue-800 px-2 py-1 rounded hover:bg-blue-50 flex-shrink-0",children:"Tag"})]}),a&&(0,t.jsx)(i,{transaction:e,onClose:()=>c(!1)})]})}function d({row:e,months:l,depth:i=0,isChild:u=!1,allowDrillDown:m=!0}){let{state:x,dispatch:f}=(0,r.usePL)(),{expandedAccounts:h,expandedMonths:p,transactions:g,accounts:b,tags:y}=x,j=m&&h.has(e.accountCode),v=e.account.children.length>0,N=e.transactionCount>0,w=m&&(v||N),C=(0,n.useMemo)(()=>j&&v?e.account.children.map(e=>{let t=b.get(e);if(!t)return null;let{monthlyAmounts:r,ytdTotal:n,transactionCount:o}=(0,s.calculateMonthlyAmounts)(e,g,b,l,y);return 0===n&&0===o?null:{accountCode:e,account:t,monthlyAmounts:r,ytdTotal:n,transactionCount:o}}).filter(e=>null!==e):[],[j,v,e.account.children,b,g,l,y]),k=(0,n.useMemo)(()=>{if(!j||v)return{};let t=(0,s.getAccountTransactions)(e.accountCode,g,b,y);return(0,s.groupTransactionsByMonth)(t)},[j,v,e.accountCode,g,b,y]),P=20*i;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{className:`
          ${u?"bg-slate-50/50":"bg-white"}
          ${w?"cursor-pointer hover:bg-slate-100":""}
          border-b border-slate-100
        `,onClick:()=>{w&&f({type:"TOGGLE_ACCOUNT",payload:e.accountCode})},children:[(0,t.jsx)("td",{className:"sticky left-0 bg-inherit px-3 py-2 font-medium text-slate-900 whitespace-nowrap z-10",style:{paddingLeft:`${12+P}px`},children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[w?(0,t.jsx)(a,{expanded:j,className:"text-slate-400 flex-shrink-0"}):(0,t.jsx)("span",{className:"w-4"}),(0,t.jsx)("span",{className:i>0?"text-sm":"",children:e.account.name})]})}),l.map(r=>(0,t.jsx)("td",{className:`px-3 py-2 text-right font-mono text-sm whitespace-nowrap
              ${e.monthlyAmounts[r]<0?"text-red-600":"text-slate-700"}
            `,children:0!==e.monthlyAmounts[r]?(0,o.formatCurrency)(e.monthlyAmounts[r]):"-"},r)),(0,t.jsx)("td",{className:`px-3 py-2 text-right font-mono text-sm font-semibold whitespace-nowrap bg-violet-50 border-l-2 border-violet-200
            ${e.ytdTotal<0?"text-red-600":"text-violet-900"}
          `,children:(0,o.formatCurrency)(e.ytdTotal)})]}),j&&C.map(e=>(0,t.jsx)(d,{row:e,months:l,depth:i+1,isChild:!0,allowDrillDown:m},e.accountCode)),j&&!v&&Object.keys(k).length>0&&(0,t.jsx)(t.Fragment,{children:l.filter(e=>k[e]?.length>0).map(r=>{let n=k[r]||[],s=p.has(`${e.accountCode}-${r}`);return(0,t.jsx)("tr",{className:"bg-slate-50",children:(0,t.jsxs)("td",{colSpan:l.length+2,className:"px-3 py-1",style:{paddingLeft:`${32+P}px`},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 cursor-pointer hover:text-slate-900",onClick:t=>{t.stopPropagation(),f({type:"TOGGLE_MONTH",payload:`${e.accountCode}-${r}`})},children:[(0,t.jsx)(a,{expanded:s,className:"text-slate-400"}),(0,t.jsx)("span",{className:"font-medium",children:(0,o.formatMonth)(r)}),(0,t.jsxs)("span",{className:"text-slate-400",children:["(",n.length," transactions)"]}),(0,t.jsx)("span",{className:"ml-auto font-mono",children:(0,o.formatCurrency)(n.reduce((e,t)=>e+t.amount,0))})]}),s&&(0,t.jsx)("div",{className:"mt-2 space-y-1 pb-2",children:n.map(e=>(0,t.jsx)(c,{transaction:e},e.id))})]})},`${e.accountCode}-${r}-group`)})})]})}function u({section:e,title:l,colorClass:a,totalColorClass:i,allowDrillDown:c=!0}){let{state:u}=(0,r.usePL)(),{transactions:m,accounts:x,months:f,tags:h}=u,p=(0,n.useMemo)(()=>0===m.length?[]:(0,s.buildPLRows)(e,m,x,f,h),[e,m,x,f,h]),g=(0,n.useMemo)(()=>{let t={},r=0;return f.forEach(n=>{let o=(0,s.calculateSectionMonthlyTotal)(e,m,x,n,h);t[n]=o,r+=o}),{monthly:t,ytd:r}},[e,m,x,f,h]);return 0===p.length?null:(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:`w-1.5 h-6 rounded-full ${a}`}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-800",children:l})]}),(0,t.jsx)("div",{className:"overflow-x-auto border border-slate-200 rounded-xl shadow-sm bg-white",children:(0,t.jsxs)("table",{className:"w-full min-w-max",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,t.jsx)("th",{className:"sticky left-0 bg-slate-50 px-3 py-2 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider w-64 z-10",children:"Account"}),f.map(e=>(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider w-24",children:(0,o.formatMonth)(e)},e)),(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-violet-700 uppercase tracking-wider w-28 bg-violet-100 border-l-2 border-violet-200",children:"YTD Total"})]})}),(0,t.jsxs)("tbody",{children:[p.map(e=>(0,t.jsx)(d,{row:e,months:f,allowDrillDown:c},e.accountCode)),(0,t.jsxs)("tr",{className:`${i||"bg-slate-50"} border-t-2 border-slate-300`,children:[(0,t.jsxs)("td",{className:"sticky left-0 bg-inherit px-3 py-2 font-bold text-slate-900",children:["Total ",l]}),f.map(e=>(0,t.jsx)("td",{className:`px-3 py-2 text-right font-mono text-sm font-bold
                    ${g.monthly[e]<0?"text-red-600":"text-slate-900"}
                  `,children:(0,o.formatCurrency)(g.monthly[e])},e)),(0,t.jsx)("td",{className:`px-3 py-2 text-right font-mono text-sm font-bold bg-violet-100 border-l-2 border-violet-200
                  ${g.ytd<0?"text-red-600":"text-violet-900"}
                `,children:(0,o.formatCurrency)(g.ytd)})]})]})]})})]})}function m({type:e}){let{state:l}=(0,r.usePL)(),{transactions:a,accounts:i,months:c,tags:d}=l,u=(0,n.useMemo)(()=>{let e={},t={},r={},n={},o={},l=0,u=0,m=0,x=0,f=0;c.forEach(c=>{e[c]=(0,s.calculateSectionMonthlyTotal)("revenue",a,i,c,d),t[c]=(0,s.calculateSectionMonthlyTotal)("cogs",a,i,c,d),r[c]=(0,s.calculateSectionMonthlyTotal)("costOfSales",a,i,c,d),n[c]=(0,s.calculateSectionMonthlyTotal)("operatingExpenses",a,i,c,d),o[c]=(0,s.calculateSectionMonthlyTotal)("otherIncome",a,i,c,d),l+=e[c],u+=t[c],m+=r[c],x+=n[c],f+=o[c]});let h={},p={},g=0,b=0;return c.forEach(s=>{h[s]=e[s]-t[s]-r[s],p[s]=h[s]-n[s]+o[s],g+=h[s],b+=p[s]}),{grossProfit:{monthly:h,ytd:g},netIncome:{monthly:p,ytd:b},revenue:{monthly:e,ytd:l}}},[a,i,c,d]);if(0===a.length)return null;let m="grossProfit"===e?u.grossProfit:u.netIncome,x="grossProfit"===e?"bg-blue-50":"bg-green-50",f="grossProfit"===e?"border-blue-200":"border-green-200",h=0!==u.revenue.ytd?m.ytd/u.revenue.ytd*100:0;return(0,t.jsx)("div",{className:`mb-8 overflow-x-auto border ${f} rounded-xl shadow-sm`,children:(0,t.jsxs)("table",{className:"w-full min-w-max",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:`${x} border-b ${f}`,children:[(0,t.jsx)("th",{className:"sticky left-0 bg-inherit px-3 py-2 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider w-64 z-10",children:" "}),c.map(e=>(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider w-24",children:(0,o.formatMonth)(e)},e)),(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-violet-700 uppercase tracking-wider w-28 bg-violet-100 border-l-2 border-violet-200",children:"YTD Total"})]})}),(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{className:x,children:[(0,t.jsxs)("td",{className:"sticky left-0 bg-inherit px-3 py-3 font-bold text-lg text-slate-900",children:["grossProfit"===e?"Gross Profit":"Net Income",(0,t.jsxs)("span",{className:"ml-2 text-sm font-normal text-slate-500",children:["(",h.toFixed(1),"% margin)"]})]}),c.map(e=>(0,t.jsx)("td",{className:`px-3 py-3 text-right font-mono font-bold text-lg
                  ${m.monthly[e]<0?"text-red-600":"text-slate-900"}
                `,children:(0,o.formatCurrency)(m.monthly[e])},e)),(0,t.jsx)("td",{className:`px-3 py-3 text-right font-mono font-bold text-lg bg-violet-100 border-l-2 border-violet-200
                ${m.ytd<0?"text-red-600":"text-violet-900"}
              `,children:(0,o.formatCurrency)(m.ytd)})]})})]})})}let x={Sales:["4000","4030"],Discounts:["4010"],Refunds:["4020"],Chargebacks:["4040"]},f={"Product Costs":["5000","5030","5040","5050"],"Shipping & Fulfillment":["5010","6010","6020","6035"]},h={"Google Ads":{accounts:["6110"],filter:e=>e.name.toLowerCase().includes("google")},"Facebook Ads":{accounts:["6110"],filter:e=>e.name.toLowerCase().includes("facebook")||e.name.toLowerCase().includes("facebk")},"Other Paid Ads":{accounts:["6110"],filter:e=>!e.name.toLowerCase().includes("google")&&!e.name.toLowerCase().includes("facebook")&&!e.name.toLowerCase().includes("facebk")},"Processing Fees":{accounts:["6055","6065","6075"]},"Affiliate / Creator Payouts":{accounts:["6120","6125"]},"Marketing Agencies":{accounts:["6130"]},"Shopify Apps":{accounts:["6070"]},"Marketing Software":{accounts:["6140"]},"Virtual Assistants / Contractors":{accounts:["6240"]},"Other Software":{accounts:["6375"]},Accounting:{accounts:["6330"]},"Other Expenses":{accounts:["6100","6150","6210","6250","6260","6290","6300","6320","6390","6410","6450","6470","6495"]}};function p({item:e,months:r,totalColorClass:s,allowDrillDown:l=!0}){let[i,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(new Set),x=e.transactions&&e.transactions.length>0,f=l&&x&&!e.isTotal,h=(0,n.useMemo)(()=>{if(!e.transactions)return{};var t=e.transactions;let r={};for(let e of t)r[e.month]||(r[e.month]=[]),r[e.month].push(e);return r},[e.transactions]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{className:`
          ${e.isTotal?`${s} border-t-2 border-slate-300`:"border-b border-slate-100"}
          ${f?"cursor-pointer hover:bg-slate-100":""}
        `,onClick:()=>{f&&d(!i)},children:[(0,t.jsx)("td",{className:`sticky left-0 bg-inherit px-3 py-2 text-slate-900 ${e.isBold?"font-bold":""} ${e.indent?"pl-6":""}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,t.jsx)(a,{expanded:i,className:"text-slate-400 flex-shrink-0"}):(0,t.jsx)("span",{className:"w-4"}),(0,t.jsx)("span",{children:e.label})]})}),r.map(r=>(0,t.jsx)("td",{className:`px-3 py-2 text-right font-mono text-sm
              ${e.isBold?"font-bold":""}
              ${e.monthlyAmounts[r]<0?"text-red-600":"text-slate-900"}
            `,children:(0,o.formatCurrency)(e.monthlyAmounts[r])},r)),(0,t.jsx)("td",{className:`px-3 py-2 text-right font-mono text-sm bg-violet-50 border-l-2 border-violet-200
            ${e.isBold?"font-bold":""}
            ${e.ytd<0?"text-red-600":"text-violet-900"}
          `,children:(0,o.formatCurrency)(e.ytd)})]}),i&&Object.keys(h).length>0&&(0,t.jsx)(t.Fragment,{children:r.filter(e=>h[e]?.length>0).map(n=>{let s=h[n]||[],l=u.has(n);return(0,t.jsx)("tr",{className:"bg-slate-50",children:(0,t.jsxs)("td",{colSpan:r.length+2,className:"px-3 py-1 pl-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 cursor-pointer hover:text-slate-900",onClick:e=>{e.stopPropagation(),m(e=>{let t=new Set(e);return t.has(n)?t.delete(n):t.add(n),t})},children:[(0,t.jsx)(a,{expanded:l,className:"text-slate-400"}),(0,t.jsx)("span",{className:"font-medium",children:(0,o.formatMonth)(n)}),(0,t.jsxs)("span",{className:"text-slate-400",children:["(",s.length," transactions)"]}),(0,t.jsx)("span",{className:"ml-auto font-mono",children:(0,o.formatCurrency)(s.reduce((e,t)=>e+t.amount,0))})]}),l&&(0,t.jsx)("div",{className:"mt-2 space-y-1 pb-2",children:s.map(e=>(0,t.jsx)(c,{transaction:e},e.id))})]})},`${e.label}-${n}-group`)})})]})}function g({allowDrillDown:e=!0}){let{state:s}=(0,r.usePL)(),{transactions:l,months:a,tags:i}=s,{income:c,cogs:d,expenses:u}=(0,n.useMemo)(()=>0===l.length?{income:[],cogs:[],expenses:[]}:function(e,t,r){let n=e.filter(e=>!t[e.id]),s=(e,t)=>{let s={};r.forEach(e=>{s[e]=0});let o=0,l=[];for(let r of n)e.includes(r.accountCode)&&(!t||t(r))&&void 0!==s[r.month]&&(s[r.month]+=r.amount,o+=r.amount,l.push(r));return{monthly:s,ytd:o,transactions:l}},o=[],l={},a=0;for(let[e,t]of(r.forEach(e=>{l[e]=0}),Object.entries(x))){let{monthly:n,ytd:i,transactions:c}=s(t);o.push({label:e,monthlyAmounts:n,ytd:i,transactions:c}),r.forEach(e=>{l[e]+=n[e]}),a+=i}o.push({label:"Total Income",monthlyAmounts:l,ytd:a,isTotal:!0,isBold:!0});let i=[],c={},d=0;for(let[e,t]of(r.forEach(e=>{c[e]=0}),Object.entries(f))){let{monthly:n,ytd:o,transactions:l}=s(t);i.push({label:e,monthlyAmounts:n,ytd:o,transactions:l}),r.forEach(e=>{c[e]+=n[e]}),d+=o}let u={};r.forEach(e=>{u[e]=l[e]-c[e]});let m=a-d;i.push({label:"Gross Profit",monthlyAmounts:u,ytd:m,isTotal:!0,isBold:!0});let p=[],g={},b=0;for(let[e,t]of(r.forEach(e=>{g[e]=0}),Object.entries(h))){let{monthly:n,ytd:o,transactions:l}=s("accounts"in t?t.accounts:t,"filter"in t?t.filter:void 0);0!==o&&(p.push({label:e,monthlyAmounts:n,ytd:o,indent:1,transactions:l}),r.forEach(e=>{g[e]+=n[e]}),b+=o)}p.push({label:"Total Expenses",monthlyAmounts:g,ytd:b,isTotal:!0,isBold:!0});let y={};r.forEach(e=>{y[e]=u[e]-g[e]});let j=m-b;return p.push({label:"Net Profit",monthlyAmounts:y,ytd:j,isTotal:!0,isBold:!0}),{income:o,cogs:i,expenses:p}}(l,i,a),[l,i,a]);if(0===l.length)return null;let m=(r,n,s,l)=>(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:`w-1.5 h-6 rounded-full ${s}`}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-800",children:r})]}),(0,t.jsx)("div",{className:"overflow-x-auto border border-slate-200 rounded-xl shadow-sm bg-white",children:(0,t.jsxs)("table",{className:"w-full min-w-max",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,t.jsx)("th",{className:"sticky left-0 bg-slate-50 px-3 py-2 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider w-64 z-10",children:"Account"}),a.map(e=>(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider w-24",children:(0,o.formatMonth)(e)},e)),(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-violet-700 uppercase tracking-wider w-28 bg-violet-100 border-l-2 border-violet-200",children:"YTD Total"})]})}),(0,t.jsx)("tbody",{children:n.map((r,n)=>(0,t.jsx)(p,{item:r,months:a,totalColorClass:l,allowDrillDown:e},n))})]})})]}),g=d.find(e=>"Gross Profit"===e.label),b=u.find(e=>"Net Profit"===e.label),y=d.filter(e=>"Gross Profit"!==e.label),j=u.filter(e=>"Net Profit"!==e.label),v=(e,r,n,s)=>{if(!e)return null;let l=c[c.length-1]?.ytd!==0?e.ytd/c[c.length-1].ytd*100:0;return(0,t.jsx)("div",{className:`mb-8 overflow-x-auto border ${s} rounded-xl shadow-sm`,children:(0,t.jsxs)("table",{className:"w-full min-w-max",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:`${n} border-b ${s}`,children:[(0,t.jsx)("th",{className:"sticky left-0 bg-inherit px-3 py-2 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider w-64 z-10",children:" "}),a.map(e=>(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider w-24",children:(0,o.formatMonth)(e)},e)),(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-violet-700 uppercase tracking-wider w-28 bg-violet-100 border-l-2 border-violet-200",children:"YTD Total"})]})}),(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{className:n,children:[(0,t.jsxs)("td",{className:"sticky left-0 bg-inherit px-3 py-3 font-bold text-lg text-slate-900",children:[r,(0,t.jsxs)("span",{className:"ml-2 text-sm font-normal text-slate-500",children:["(",l.toFixed(1),"% margin)"]})]}),a.map(r=>(0,t.jsx)("td",{className:`px-3 py-3 text-right font-mono font-bold text-lg
                    ${e.monthlyAmounts[r]<0?"text-red-600":"text-slate-900"}
                  `,children:(0,o.formatCurrency)(e.monthlyAmounts[r])},r)),(0,t.jsx)("td",{className:`px-3 py-3 text-right font-mono font-bold text-lg bg-violet-100 border-l-2 border-violet-200
                  ${e.ytd<0?"text-red-600":"text-violet-900"}
                `,children:(0,o.formatCurrency)(e.ytd)})]})})]})})};return(0,t.jsxs)("div",{children:[m("Income",c,"bg-emerald-500","bg-emerald-50"),m("Cost of Goods",y,"bg-orange-500","bg-orange-50"),v(g,"Gross Profit","bg-blue-50","border-blue-200"),m("Expenses",j,"bg-red-500","bg-red-50"),v(b,"Net Profit","bg-green-50","border-green-200")]})}function b(){let{state:e}=(0,r.usePL)(),[s,l]=(0,n.useState)(!1),[i,c]=(0,n.useState)(new Set),d=(0,n.useMemo)(()=>{let t={};for(let r of e.exclusions)t[r.category]||(t[r.category]={exclusions:[],total:0,justification:r.justification}),t[r.category].exclusions.push(r),t[r.category].total+=r.amount;return t},[e.exclusions]),u=(0,n.useMemo)(()=>e.exclusions.reduce((e,t)=>e+t.amount,0),[e.exclusions]),m=Object.keys(d).sort();return 0===e.exclusions.length?null:(0,t.jsxs)("div",{className:"mt-10 pt-8 border-t border-slate-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 cursor-pointer group",onClick:()=>l(!s),children:[(0,t.jsx)(a,{expanded:s,className:"text-slate-400 group-hover:text-slate-600 transition-colors"}),(0,t.jsx)("div",{className:"w-1.5 h-6 rounded-full bg-slate-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-700 group-hover:text-slate-900 transition-colors",children:"Exclusions"}),(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:[e.exclusions.length," items"]}),(0,t.jsx)("span",{className:"ml-auto font-mono font-semibold text-slate-500",children:(0,o.formatCurrency)(u)})]}),s&&(0,t.jsxs)("div",{className:"space-y-2 pl-6",children:[(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Non-recurring or owner-related items that would not transfer to a buyer."}),m.map(e=>{let r=d[e],n=i.has(e);return(0,t.jsxs)("div",{className:"border border-slate-200 rounded-lg overflow-hidden bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50/80 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>{let t;(t=new Set(i)).has(e)?t.delete(e):t.add(e),c(t)},children:[(0,t.jsx)(a,{expanded:n,className:"text-slate-400"}),(0,t.jsx)("div",{className:`w-2 h-2 rounded-full ${{Personal:"bg-purple-500",Discretionary:"bg-purple-400","Owner Travel":"bg-blue-500","Owner Education":"bg-blue-400","Owner Tools":"bg-blue-300","Owner Expense":"bg-blue-600",Legal:"bg-red-500","Legal/Tax":"bg-red-400","One-Time Project":"bg-amber-500","One-Time COGS":"bg-amber-400","Terminated Agency":"bg-orange-500","Terminated Contractor":"bg-orange-400","Terminated Service":"bg-orange-300","M&A Process":"bg-slate-500"}[e]||"bg-slate-400"}`}),(0,t.jsx)("span",{className:"font-medium text-slate-800",children:e}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:r.exclusions.length}),(0,t.jsx)("span",{className:"ml-auto text-xs text-slate-400 max-w-sm truncate hidden md:block",children:r.justification}),(0,t.jsx)("span",{className:"font-mono text-sm text-slate-600 ml-4",children:(0,o.formatCurrency)(r.total)})]}),n&&(0,t.jsx)("div",{className:"divide-y divide-slate-100",children:r.exclusions.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 px-6 py-2 bg-white text-sm hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("span",{className:"text-slate-400 font-mono text-xs w-20",children:e.date}),(0,t.jsx)("span",{className:"text-slate-700 flex-1 truncate",children:e.vendor||e.memo?.substring(0,40)||"Unknown"}),(0,t.jsx)("span",{className:"text-slate-400 text-xs w-28 truncate hidden lg:block",children:e.account.replace(/^\d{4}\s+/,"")}),(0,t.jsx)("span",{className:"font-mono text-slate-600 w-24 text-right",children:(0,o.formatCurrency)(e.amount)})]},`${e.date}-${e.amount}-${r}`))})]},e)})]})]})}function y({allowDrillDown:e=!0}){let{state:n,dispatch:s}=(0,r.usePL)();if(n.loading)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-slate-500",children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{children:"Loading financial data..."})]})});if(n.error)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-red-600 bg-red-50 px-6 py-4 rounded-lg border border-red-200",children:[(0,t.jsx)("strong",{children:"Error:"})," ",n.error]})});let o=()=>{s({type:"TOGGLE_KH_BROKERS_VIEW"})};return(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("div",{className:"flex items-center justify-end mb-6",children:(0,t.jsxs)("div",{className:"inline-flex rounded-lg border border-slate-200 bg-white p-1 shadow-sm",children:[(0,t.jsx)("button",{onClick:()=>n.khBrokersView||o(),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${n.khBrokersView?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:"Summary"}),(0,t.jsx)("button",{onClick:()=>!n.khBrokersView||o(),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${!n.khBrokersView?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:"Detailed"})]})}),(0,t.jsx)(l,{}),e?n.khBrokersView?(0,t.jsx)(g,{allowDrillDown:!0}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{section:"revenue",title:"Revenue",colorClass:"bg-emerald-500",totalColorClass:"bg-emerald-50",allowDrillDown:e}),(0,t.jsx)(u,{section:"cogs",title:"Cost of Goods Sold",colorClass:"bg-orange-500",totalColorClass:"bg-orange-50",allowDrillDown:e}),(0,t.jsx)(u,{section:"costOfSales",title:"Cost of Sales",colorClass:"bg-amber-500",totalColorClass:"bg-amber-50",allowDrillDown:e}),(0,t.jsx)(m,{type:"grossProfit"}),(0,t.jsx)(u,{section:"operatingExpenses",title:"Operating Expenses",colorClass:"bg-red-500",totalColorClass:"bg-red-50",allowDrillDown:e}),(0,t.jsx)(m,{type:"netIncome"})]}):(0,t.jsx)(g,{allowDrillDown:!1}),e&&(0,t.jsx)(b,{})]})}e.s(["PLViewer",()=>y],25735)}]);